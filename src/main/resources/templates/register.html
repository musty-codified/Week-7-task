<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org ">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="../static/css/account.css" th:href="@{/css/account.css}">
    <link href="https://fonts.googleapis.com/css?family=Rubik" rel="stylesheet" th:href="@{https://fonts.googleapis.com/css?family=Rubik}">
    <title>Sign Up</title>
</head>
<body>
<main>
    <section class="container-account">
        <div class="account-col1">
            <h1 class="account-title">Facebook</h1>
            <p>This is where fun is birthed! Make sure you are satisfied!</p>
        </div>
        <div class="account-col2">
            <span th:if="${registrationError}"  th:text="${registrationError}">Error</span>
            <div class="account-box">
<!--                <input type="hidden" id="statusreg" value="<%=request.getSession().getAttribute("status")%>">-->
<!--                <input type="hidden" id="errorreg" value="<%=request.getSession().getAttribute("error")%>">-->
                <form method="post" action="#" th:action="@{/register-user}" th:object="${user}" class="registration-form">
<!--                    <% session.removeAttribute("status");%>-->
                    <fieldset>

                        <formgroup class="formgoup">

                            <input type="text" name="firstname" th:field="*{firstname}" class="input-name" id="firstname" placeholder="First Name" required>
<!--                            <span th:if="${#fields.hasErrors('firstname')}" th:errors="*{firstname}"></span>-->

                            <input type="text" name="lastname" th:field="*{lastname}" class="input-name" id="lastname" placeholder="Last Name" required>
<!--                            <span th:if="${#fields.hasErrors('lastname')}" th:errors="*{lastname}"></span>-->

                        </formgroup>

                        <input type="email" name="email" th:field="*{email}" class="input-fields" id="email" placeholder="Email address" required>
<!--                        <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></span>-->

                        <formgroup class="formgoup input-fields">
                            <span>
                                <label for="male" class="radio-label" style="text-align: center">Male</label>
                                <input type="radio" name="sex" class="radio" id="male" value="male" placeholder="Male">
                            </span>

                            <span>
                                <label for="female" class="radio-label">Female</label>
                                <input type="radio" name="sex" class="radio" id="female" value="female" placeholder="Female">
                            </span>


                        </formgroup>

                        <label for="dob" class="input-group">Date of Birth</label>

                        <input type="date" name="dob" th:field="*{dob}" class="input-fields" id="dob" placeholder="Date of birth">

                        <input type="password" name="password" th:field="*{password}" class="input-fields" id="password" placeholder="Password" required>
<!--                        <span th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></span>-->

                        <input type="password" name="confirmpassword" th:field="*{confirmpassword}" class="input-fields" id="confirmpassword" placeholder="Confirm password" required>

                        <div class="btn">
                            <button type="submit" class="btn--blue submit" name="submit" value="signup">Sign up</button>
                        </div>

<!--                        <%&#45;&#45;                        <input type="submit" class="btn&#45;&#45;blue submit" name="submit" value="Sign up">&#45;&#45;%>-->

                    </fieldset>

                    <div class="btn-hr">
                    </div>

                    <div class="btn">
                        <a th:href="@{/login}" class="btn--green submit" >Login</a>
                    </div>

                </form>

            </div>

        </div>
    </section>
</main>

<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js" th:attr="src=@{https://unpkg.com/sweetalert/dist/sweetalert.min.js}"></script>
<link rel="stylesheet" href="alert/dist/sweetalert.css" th:href="@{alert/dist/sweetalert.css}">

<script type="text/javascript">
    let status = document.getElementById("statusreg").value;
    let errorMessage = document.getElementById("errorreg").value;
    console.log(status);
    console.log(errorMessage);
    if (status == "failure") {
        swal(errorMessage);
    }
</script>

</body>
</html>